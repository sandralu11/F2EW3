(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7716b323"],{"091b":function(t,i,o){"use strict";o("3e33")},"0aa2":function(t,i,o){"use strict";o("2526")},2526:function(t,i,o){},"3e33":function(t,i,o){},"4bb4":function(t,i,o){"use strict";o.r(i);var s=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{attrs:{id:"map"}},[o("button",{staticClass:"show-btn",class:{active:t.show},on:{click:function(i){t.show=!t.show}}},[t.show?o("i",{staticClass:"bx bxs-hide"}):o("i",{staticClass:"bx bx-show"}),t._v(t._s(t.show?"關閉":"顯示")+"列表")]),o("van-popup",{style:{height:"85%"},attrs:{round:"",position:"bottom",overlay:!1},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[o("Card")],1),o("l-map",{ref:"myMap",staticStyle:{height:"100vh"},attrs:{zoom:t.zoom,center:t.center,options:t.options}},[o("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),o("l-marker",{ref:"location",attrs:{"lat-lng":t.center}},[o("l-popup",[t._v(" 你的位置 ")])],1),t._l(t.data,(function(i){return o("l-marker",{key:i.id,attrs:{"lat-lng":i.local}},[o("l-icon",{attrs:{"icon-url":"夢時代購物中心"===i.name?t.icon.type.gold:t.icon.type.black,"shadow-url":t.icon.shadowUrl,"icon-size":t.icon.iconSize,"icon-anchor":t.icon.iconAnchor,"popup-anchor":t.icon.popupAnchor,"shadow-size":t.icon.shadowSize}}),o("l-popup",[t._v(" "+t._s(i.name)+" ")])],1)}))],2)],1)},a=[],n=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"card"},[o("div",{staticClass:"bus-top"},[o("router-link",{attrs:{to:"/Search"}},[o("i",{staticClass:"bx bx-chevron-left"})]),t._m(0)],1),o("div",{staticClass:"direction"},[t.stopList.length>1?o("div",{class:{active:t.direction},on:{click:function(i){t.direction=!0}}},[t._v("往"+t._s(t.goStop))]):t._e(),t.stopList.length>1?o("div",{class:{active:!t.direction},on:{click:function(i){t.direction=!1}}},[t._v("往"+t._s(t.backStop))]):t._e()]),t.stopList.length>1?o("div",{staticClass:"station-list"},[t.direction?o("div",t._l(t.stopList[0].Stops,(function(i){return o("div",{key:i.StopUID,staticClass:"item"},[o("div",[o("div",{staticClass:"state no-bus"},[t._v("未發車")]),o("div",{staticClass:"name"},[t._v(t._s(i.StopName.Zh_tw))])]),o("div",{staticClass:"tag"},[t._v("636-u5")])])})),0):o("div",t._l(t.stopList[1].Stops,(function(i){return o("div",{key:i.StopUID,staticClass:"item"},[o("div",[o("div",{staticClass:"state bus-pitting"},[t._v("進站中")]),o("div",{staticClass:"name"},[t._v(t._s(i.StopName.Zh_tw))])]),o("div",{staticClass:"tag"},[t._v("636-u5")])])})),0),t._m(1)]):t._e()])},e=[function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"bus-num"},[o("i",{staticClass:"bx bx-bus"}),o("span",[t._v("{307}")])])},function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"item"},[o("div",[o("div",{staticClass:"state count-down"},[t._v("１分鐘")]),o("div",{staticClass:"name"},[t._v("舊裝國小")])]),o("div",{staticClass:"tag"},[t._v("636-u5")])])}],c=o("7fe7"),r={data:function(){return{stopList:[],arrival:[],direction:!0}},mounted:function(){var t=this;c["a"].getSequence().then((function(i){t.stopList=i})),c["a"].getArrival().then((function(i){t.arrival=i})),c["a"].getRoute().then((function(i){t.busList=i}))},computed:{goStop:function(){var t=this.stopList[0].Stops.length,i=this.stopList[0].Stops[t-1];return i.StopName.Zh_tw},backStop:function(){var t=this.stopList[1].Stops.length,i=this.stopList[1].Stops[t-1];return i.StopName.Zh_tw}}},l=r,p=(o("091b"),o("2877")),u=Object(p["a"])(l,n,e,!1,null,"c725e91e",null),d=u.exports,h={components:{Card:d},data:function(){return{data:[{id:1,name:"夢時代購物中心",local:[22.595153,120.306923]},{id:2,name:"漢神百貨",local:[22.61942,120.296386]},{id:3,name:"漢神巨蛋",local:[22.669603,120.302288]},{id:4,name:"大統百貨",local:[22.630748,120.318033]}],zoom:13,center:[22.612961,120.304167],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',options:{zoomControl:!1},icon:{type:{black:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-black.png",gold:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png"},shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},show:!1}},mounted:function(){var t=this;this.$nextTick((function(){navigator.geolocation.getCurrentPosition((function(i){var o=i.coords;t.center=[o.latitude,o.longitude],t.$refs.location.mapObject.openPopup()}))}))}},v=h,m=(o("0aa2"),Object(p["a"])(v,s,a,!1,null,"5a50d3ae",null));i["default"]=m.exports}}]);
//# sourceMappingURL=chunk-7716b323.90a1d57f.js.map